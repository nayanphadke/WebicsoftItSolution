<div class="container attendance-form-container mt-5 p-4 shadow rounded bg-white">
  <h2 class="text-center mb-4 text-primary">ATTENDACE SHEET</h2>

  <!-- Employee Info -->
  <div class="row mb-3">
    <div class="col-md-6">
      <div class="d-flex">
        <label class="fw-bold me-2">Employee ID:</label>
        <span>{{ studentId }}</span>
      </div>
    </div>
    <div class="col-md-6">
      <div class="d-flex">
        <label class="fw-bold me-2">Employee Name:</label>
        <span>{{ studentfirstName }} {{ studentlastName }}</span>
      </div>
    </div>
  </div>

  <!-- Attendance Mode -->
  <div class="mb-3">
    <label class="form-label fw-bold">Attendance Mode:</label>
    <select class="form-select" [(ngModel)]="attendanceType" (change)="onTypeChange()">
      <option value="Daily">Daily</option>
      <option value="Weekly">Weekly</option>
    </select>
  </div>

  <!-- Daily Section -->
  <div *ngIf="isDaily">
    <div class="row mb-3">
      <div class="col-md-4">
        <label class="form-label fw-bold">Select Date:</label>
        <input type="date" class="form-control" [(ngModel)]="selectedDate" />
      </div>
      <div class="col-md-4">
        <label class="form-label fw-bold">Attendance Type:</label>
        <select class="form-select" [(ngModel)]="attendanceType" name="attendanceType">
          <option value="General">General</option>
          <option value="WFH">WFH</option>
        </select>
      </div>
      <div class="col-md-4">
        <label class="form-label fw-bold">Status:</label>
        <select class="form-select" [(ngModel)]="status" name="status">
          <option value="Present">Present</option>
          <option value="Absent">Absent</option>
        </select>
      </div>
    </div>
  </div>

  <!-- Weekly Section -->
  <div *ngIf="!isDaily">
    <div class="row mb-3">
      <div class="col-md-6">
        <label class="form-label fw-bold">Start Date:</label>
        <input type="date" class="form-control" [(ngModel)]="startDate" (change)="calculateEndDate()" />
      </div>
      <div class="col-md-6">
        <label class="form-label fw-bold">End Date:</label>
        <input type="date" class="form-control" [(ngModel)]="endDate" disabled />
      </div>
    </div>

    <div class="mt-4">
      <h5 class="text-center text-secondary mb-3">Weekly Attendance</h5>
      <div class="table-responsive">
        <table class="table table-bordered table-hover text-center align-middle">
          <thead class="table-primary">
            <tr>
              <th>Date</th>
              <th>Attendance Type</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let date of weekDates">
              <td>{{ date }}</td>
              <td>
                <select class="form-select" [(ngModel)]="weeklyType[date]" name="type-{{date}}">
                  <option value="General">General</option>
                  <option value="WFH">WFH</option>
                </select>
              </td>
              <td>
                <select class="form-select" [(ngModel)]="weeklyStatus[date]" name="status-{{date}}">
                  <option value="Present">Present</option>
                  <option value="Absent">Absent</option>
                </select>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Submit -->
  <div class="text-center mt-4">
    <button class="btn btn-success px-5" (click)="saveAttendance()">Save</button>
  </div>
</div>
